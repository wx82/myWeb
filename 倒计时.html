<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <span class="hour"></span>
    <span class="minute">2</span>
    <span class="second">3</span>
    <input type="text">
    <button class="btn">发送短信</button>
</body>
<script>
    var hour = document.querySelector('.hour');
    var minute = document.querySelector('.minute');
    var second = document.querySelector('.second');
    var userTime = +new Date('2020-5-22 18:00:00');
    conuDown()//第一次刷新后直接显示倒计时的数字
    //倒计时
    function conuDown(){
            var nowTime = +new Date();//当前时间毫秒数
            //var userTime = +new Date(time);//用户输入时间毫秒数
            var times = (userTime - nowTime)/1000;//差距秒数
            //var d = parseInt(times/60/60/24)//得到剩余天数
            //d = d < 10? '0'+d : d;
            var h = parseInt(times/60/60%24)//得到时
            h = h < 10? '0'+h : h;
            hour.innerHTML = h;
            var m = parseInt(times/60%60)//得到分
            m = m < 10? '0'+m : m;
            minute.innerHTML = m;
            var s = parseInt(times%60)//得到秒
            s = s < 10? '0'+s : s;
            second.innerHTML = s;
            //return d + '天'+ h + '时' + m + '分' + s + '秒';
        }
    var daojishi = setInterval(conuDown,1000);

    //发送短信倒计时
    var time = 3;
    var btn = document.querySelector('.btn');
    btn.addEventListener('click',function() {
        btn.disabled = true;
        var timer = setInterval(function(){
            btn.innerHTML = "还剩"+time+"秒";
            if(time == 0){
                clearInterval(timer);
                btn.disabled = false;
                btn.innerHTML = "发送短信";
                time = 3;
            }else{
                time--;
            }

        },1000);
        
    })
    var once = function() {
        btn.disabled = true;
    }
</script>
</html>