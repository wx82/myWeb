<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>网站</title>
    <script>
       //var name = prompt("请输入姓名：");
        console.log(null || '' || 0);
        //预解析案例
        var num = 10;
        fun();
        function fun(){
            console.log(num);
            var num = 20;
        }
        //相当于执行了以下操作
        var num;
        function fun(){
            var num
            console.log(num);
            num = 20;
        }
        num = 10;
        fun();

        //预解析案例2
        fun();
        console.log(c);
        console.log(b);
        console.log(a);
        function fun(){
            var a = b = c = 9;
            console.log(a);
            console.log(b);
            console.log(c);
        }
        //相当于执行了一下操作，结果为99999报错
        function fun(){
            var a 
            a = b = c = 9;//其中b和c为全局变量
            //当代码为var a=9,b=9,c=9才表示abc都为局部变量
            console.log(a);
            console.log(b);
            console.log(c);
        }
        fun();
        console.log(c);
        console.log(b);
        console.log(a);
        //获得Date总毫秒数
        var date = new Date();
        //目前的时间距离1970.1.1总的毫秒数
        var x = date.valueOf();
        var y = date.getTime();
        var date1 = +new Date();

        //倒计时
        function conuDown(time){
            var nowTime = +new Date();//当前时间毫秒数
            var userTime = +new Date(time);//用户输入时间毫秒数
            var times = (userTime - nowTime)/1000;//差距秒数
            var d = parseInt(times/60/60/24)//得到剩余天数
            d = d < 10? '0'+d : d;
            var h = parseInt(times/60/60%24)//得到时
            h = h < 10? '0'+h : h;
            var m = parseInt(times/60%60)//得到分
            m = m < 10? '0'+m : m;
            var s = parseInt(times%60)//得到秒
            s = s < 10? '0'+s : s;
            return d + '天'+ h + '时' + m + '分' + s + '秒';
        }
        console.log(conuDown('2020-4-17 18:00:00'));
        //检测是否为数组
        var arr = [];
        console.log(arr instanceof Array);//true
        Array.isArray(arr)//true

        //添加数组元素
        arr.push(4,'kk');//末尾追加新的元素，返回值为新数组的长度
        arr.unshift(0,'sss')//在数组最前面添加数组元素，返回新数组的元素
        //删除数组元素
        arr.pop();//弹出数组最后一个元素，返回删除的那个元素
        arr.shift();//弹出数组的第一个元素，返回删除的那个元素
        //翻转数组
        arr.reverse();
        //数组排序
        arr.sort(function(a,b){
            return a-b;//升序的顺序排序||b-a为降序
        });
        //数组索引
        //只返回第一个索引，若找不到返回-1
        var x = arr.indexOf(4);
        //从后面开始查找，只返回第一个索引
        var y = arr.lastIndexOf(4);
        //去重
        var arr1 = ['',]
        function unique(arr) {
            var newArr = [];
            for(var i = 0;i < arr.length; i++){
                if(newArr.indexOf(arr[i] === -1)){
                    newArr.push(arr[i])
                }
            }
            return newArr;
          }
          //数组转化为字符串
          arr.toString();//用，连接
          arr.join('-');//用()中填写的符号连接
          //根据字符返回位置
          var str='别怕孤单家一直在';
          console.log(str.indexOf('家'));
          console.log(str.indexOf('家',3));//从索引号3的位置开始查找
          console.log(str.lastIndexOf('一'));//从后开始查找

          //根据位置返回字符
          //1、charAt(index)
          var str = 'allmygirl'
          console.log(str.charAt(3));//m
          //2、charCodeAt(index)返回相应索引号的字符ASCII值，可用来判断用户按下了哪个键
          console.log(str.charCodeAt(0));
          //3、str[index] h5新增
          console.log(str[0]);//a

          var str='abhcdiagfyreoqncdjafrbyuv';
          var o={};
          for(var i=0;i<str.length;i++){
              var chars = str.charAt(i);//chars 是字符串的每一个字符
              if(o[chars]){//o[chars]得到的是属性值
                o[chars]++;
              }else{
                  o[chars] = 1;
              }
          }
          var max = 0;
          var ch = '';
          //遍历对象
          for(var k in o){
            if(o[k] > max){
                max = o[k];
                ch = k;
            }
          }
          console.log(max);
          console.log(ch);
          //字符串操作方法
          //1、concat('字符串1','字符串2'...)
          var str = 'KUN'
          console.log(str.concat('IKUN'));//KUNIKUN
          //2、substr('截取的起始位置','截取几个字符')
          console.log(str.substr(1,2));
          //3、slice(start,end)包括start不包括end
          //4、subString(start,end)不接受负值，与slice相似
          //5、替换字符 replace('被替换字符','替换的字符') 只会替换第一个字符
          str.replace('u','n');
            //全替换
                while(str.indexOf('k') !== -1){
                    str1 = str1.replace('k','*');
                }
          //6、字符转换为数组 split('分隔符') join:把数组转换为字符串
          var str2 = "k,e,r";
          var arr = str2.split(',');

    </script>
</head>
<body>
    <div>js学习开始了</div>
</body>
</html>
